{"id":"baseBall.html","dependencies":[{"name":"/project/codesandbox_javascript/package.json","includedInParent":true,"mtime":1686537667678}],"generated":{"html":"<html>\r\n<header>\r\n<title>숫자야구</title>\r\n<meta charset=\"UTF-8\">\r\n</header>\r\n<body>\r\n<form id=\"main\">\r\n    <input type=\"text\" id=\"input\">\r\n    <button id=\"btn_check\">확인</button>\r\n    <div id=\"targetNumber\"></div>\r\n    <div id=\"led\"></div>\r\n    <div id=\"log\"></div>\r\n</form>\r\n<script>var $input = document.querySelector('input[id=\"input\"]');\nvar $button = document.querySelector('button[id=\"btn_check\"]');\nvar $targetNumber = document.querySelector('div[id=\"targetNumber\"]');\nvar $led = document.querySelector('div[id=\"led\"]');\nvar $log = document.querySelector('div[id=\"log\"]');\nvar gameCount = 10;\nvar userState = {\n  'ball': 0,\n  'strike': 0,\n  'out': 0,\n  'homeRun': 0,\n  'userGameCount': 1\n};\nvar $form = document.querySelector('form[id=\"main\"]');\n$form.addEventListener('submit', function (e) {\n  e.preventDefault(); // 기본동작 막기 \n  var inputData = $input.value;\n  if (inputValid(inputData)) {\n    //inputDate 추가\n    $log.textContent += '[ ' + inputData + ' ]';\n\n    //strike && Ball && homeRun && out 체크\n    checkSB(inputData);\n\n    //game상태 표시\n    var gameLed = '';\n    for (var key in userState) {\n      gameLed += '[ ' + key + '::' + userState[key] + ' ]';\n    }\n    $led.textContent = gameLed;\n\n    //target input check\n    if (userState['homeRun'] === 1 || userState['out'] === 3 || userState['userGameCount'] === gameCount) {\n      var alertMessage = userState['homeRun'] === 1 ? 'homeRun!!' : userState['out'] === 3 ? '3out!!' : 'userGameCount 10 limit';\n\n      //(userState['homeRun'] === 1 ? alert(\"homeRun!!!\" : alert(\"3out~~~~~\")));\n      alert(alertMessage);\n      alert(\"게임종료 및 재시작\");\n      location.reload();\n    }\n\n    //userGameCount 증가\n    userState['userGameCount'] += 1;\n  }\n});\nvar result = ''; // targetNumber 저장\n\nvar checkSB = function checkSB(inputData) {\n  var arrResult = result.split('');\n  var arrInputData = inputData.split('');\n  var strikeCheck = 0;\n  var ballCheck = 0;\n\n  // join includes \n  // innerHtml\n  //document.createTextNode\n  //document.createElement\n  //$log.append()\n  //$log.appendChild()\n  //indexof\n  //includes\n  //Array(9).fill(0).map((e,i)=>i+1)\n  //strike && Ball check\n  arrResult.forEach(function (inD, inI, inArr) {\n    return arrInputData.some(function (outD, outI, outArr) {\n      if (inD === outD) {\n        if (inI === outI) {\n          userState['strike'] += 1;\n          strikeCheck += 1;\n        } else {\n          userState['ball'] += 1;\n          ballCheck += 1;\n        }\n        //some 종료 시킴 \n        return true;\n      }\n    });\n  });\n  if (strikeCheck === result.toString().length) {\n    //strike 와 result 갯수가 같을 경우 homeRun!\n    userState['homeRun'] = 1;\n  } else if (strikeCheck === 0 && ballCheck === 0 && userState['homeRun'] === 0) {\n    //strike,ball,homeRun 0일경우 out\n    userState['out'] += 1;\n  }\n};\nvar inputValid = function inputValid(inputData) {\n  if (!Number(inputData)) {\n    alert(\"숫자만 입력 가능합니다.\");\n    return false;\n  }\n  if (result.toString().length !== inputData.toString().length) {\n    alert(\"target(length::\" + result.toString().length + \")과 자릿수가 일치하지 않습니다.\");\n    return false;\n  }\n  return true;\n};\n\n//숫자입력 > math.random 으로 변경\nwhile (true) {\n  result = prompt();\n  if (!!Number(result)) {\n    $targetNumber.textContent = '**' + result;\n    break;\n  }\n  alert(\"숫자만 입력 가능합니다.\");\n}\n/*\r\n$button.addEventListener('click',(e)=>{\r\n    let inputData = $input.value;\r\n    if(inputValid(inputData)) {\r\n        \r\n        //inputDate 추가\r\n        $log.textContent += '[ ' + inputData + ' ]';\r\n        \r\n        //strike && Ball && homeRun && out 체크\r\n        checkSB(inputData);\r\n        \r\n        //game상태 표시\r\n        let gameLed = ''\r\n        for(let key in userState){\r\n            gameLed +=  '[ '+ key + '::' +userState[key] + ' ]';\r\n        }\r\n        $led.textContent = gameLed;\r\n        \r\n        //target input check\r\n        if(userState['homeRun'] === 1 || userState['out'] === 3 || userState['userGameCount'] === gameCount) {\r\n            \r\n            let alertMessage = (userState['homeRun'] === 1 ? 'homeRun!!' : (userState['out'] === 3 ? '3out!!' : 'userGameCount 10 limit'));\r\n            \r\n            //(userState['homeRun'] === 1 ? alert(\"homeRun!!!\" : alert(\"3out~~~~~\")));\r\n            alert(alertMessage);\r\n            alert(\"게임종료 및 재시작\");\r\n            location.reload();\r\n        }\r\n        \r\n        //userGameCount 증가\r\n        userState['userGameCount'] += 1;\r\n    }\r\n});\r\n*/</script>\r\n</body>\r\n</html>"},"sourceMaps":null,"error":null,"hash":"5b9c665b26cdd6875ebcfca27c667068","cacheData":{"env":{}}}