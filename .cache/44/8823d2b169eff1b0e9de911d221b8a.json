{"id":"index.html","dependencies":[{"name":"_css_loader","parent":"/project/codesandbox_javascript/index.html","resolved":"/project/codesandbox_javascript/node_modules/parcel-bundler/src/builtins/css-loader.js"},{"name":"/project/codesandbox_javascript/package.json","includedInParent":true,"mtime":1687402247124}],"generated":{"html":"<html>\r\n    <head>\r\n        <meta charset=\"utf-8\">\r\n        <style>table {\r\n                border-collapse : collapse;\r\n            }\r\n            \r\n            td {\r\n                border: 1px solid black;\r\n                width : 40px;\r\n                height : 40px;\r\n                text-align: center;\r\n            }</style>\r\n    </head>\r\n    <body>\r\n        <script>//구조분해할당\nvar _document = document,\n  body = _document.body;\nvar arr = [1, 2, 3];\nvar one = arr[0],\n  three = arr[2];\nvar $table = document.createElement('table');\nvar $result = document.createElement('div');\nvar data = Array(3).fill().map(function (e, i) {\n  return Array(3).fill();\n});\nvar humanChoice = function humanChoice(x, y) {\n  data[x][y] = 'O';\n  document.querySelector(\"td[id=\\\"\".concat(x + '_' + y, \"\\\"]\")).textContent = data[x][y];\n};\nvar autoComputerChoice = function autoComputerChoice() {\n  var tempX;\n  var tempY;\n\n  //flat 후 filter 로 체크가 안된걸 찾음\n\n  var nullCheck = data.flat().filter(function (e) {\n    return e === undefined;\n  });\n  while (nullCheck.length > 0) {\n    tempX = Math.floor(Math.random() * 3);\n    tempY = Math.floor(Math.random() * 3);\n    if (!data[tempX][tempY]) {\n      data[tempX][tempY] = 'X';\n      document.querySelector(\"td[id=\\\"\".concat(tempX + '_' + tempY, \"\\\"]\")).textContent = data[tempX][tempY];\n      break;\n    }\n    ;\n  }\n\n  // let nullCheck = data.filter((e,i)=>{\n  //     return e.some((ie)=>!ie);\n  // });\n\n  // //컴퓨터 초이스\n  // while(nullCheck.length > 0) {\n  //     tempX = Math.floor(Math.random() * 3);\n  //     tempY = Math.floor(Math.random() * 3);\n\n  //     if(!data[tempX][tempY]) {\n  //         data[tempX][tempY] = 'X';\n  //         document.querySelector(`td[id=\"${tempX+'_'+tempY}\"]`).textContent = data[tempX][tempY];\n  //         break;\n  //     };\n  // }     \n};\n\nvar tdChoice = function tdChoice(turnGubn, x, y) {\n  if (turnGubn === \"H\") {\n    humanChoice(x, y);\n  } else if (turnGubn === \"C\") {\n    autoComputerChoice();\n  }\n\n  //승부 체크\n  return winCheck();\n};\n\n//승자 체크 할 때 td를 넘겨준다.\n//parameter td 값으로 배열에서 같은 td 를 찾아 rowindex,colindex 를 찾음 \n// td cellindex target.cellIndex // tr target.parentNode.rowIndex\n// Array.from()\n// every() 모두 true => true 하나라도 아니면 false \n// some () 하나라도 true => true 모두 아니면 false\n\n// not, 문자열의 빈문자열 , undefined, false, null , 0 = \nfunction winCheck() {\n  var gameOver = false;\n  var check1 = data[0];\n  var check2 = data[1];\n  var check3 = data[2];\n  var check4 = data.map(function (el) {\n    return el[0];\n  });\n  var check5 = data.map(function (el) {\n    return el[1];\n  });\n  var check6 = data.map(function (el) {\n    return el[2];\n  });\n  var xPoint = 0;\n  var check7 = data.map(function (el) {\n    return el[xPoint++];\n  });\n  var yPoint = 2;\n  var check8 = data.map(function (el) {\n    return el[yPoint--];\n  });\n  var checkArrays = Array(check1, check2, check3, check4, check5, check6, check7, check8);\n  var noWin = 0;\n  checkArrays.forEach(function (el) {\n    // 승자 체크 \n    if (new Set(el).size === 1) {\n      switch (el[0]) {\n        case 'X':\n          alert(\"컴퓨터 승리\");\n          gameOver = true;\n          break;\n        case 'O':\n          alert(\"인간 승리\");\n          gameOver = true;\n          break;\n      }\n    }\n    // 무승부 체크 \n    else if (!el.includes(undefined)) {\n      ++noWin;\n      if (noWin === 8) {\n        alert(\"무승부\");\n        gameOver = true;\n      }\n    }\n  });\n  if (gameOver) $table.removeEventListener('click', tdClick);\n  return gameOver;\n}\nvar tdClick = function tdClick(e) {\n  if (!e.target.textContent) {\n    // 배열에 td 객체를 추가 \n    var x = e.target.id.split('_')[0];\n    var y = e.target.id.split('_')[1];\n\n    //사람 초이스 데이터저장\n    if (!tdChoice(\"H\", x, y)) {\n      //게임이 안끝났을 때만 컴퓨터 자동 선택\n      tdChoice(\"C\");\n    }\n  }\n};\n\n//데이터 갯수 만큼 테이블에 tr td 생성\ndata.forEach(function (e, i) {\n  var $tr = document.createElement('tr');\n  //tr tag 밑에 td 추가\n  e.forEach(function (e1, i1) {\n    var $td = document.createElement('td');\n    $td.id = \"\".concat(i, \"_\").concat(i1);\n    //$td.addEventListener('click',tdClick);\n    $tr.append($td);\n  });\n  // table 안에 tag 추가\n  $table.append($tr);\n});\n//마지막에 table을 바디에 추가\ndocument.body.append($result);\ndocument.body.append($table);\n$table.addEventListener('click', tdClick);</script>\r\n    </body>\r\n</html>"},"sourceMaps":null,"error":null,"hash":"2d95da3597074fa4d83473dc1f96fe85","cacheData":{"env":{}}}