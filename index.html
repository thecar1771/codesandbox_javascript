<html>
    <head>
        <meta charset="utf-8">
        <style>
            table {
                border-collapse : collapse;
            }
            
            td {
                border: 1px solid black;
                width : 40px;
                height : 40px;
                text-align: center;
            }
        </style>
    </head>
    <body>
        <script>
          const data = Array(3).fill()
                         .map((e,i)=>{
                            return Array(3).fill()
                         });
          const $table = document.createElement('table');
          let turn = 'O'
          //데이터 갯수 만큼 테이블에 tr td 생성
          data.forEach((e,i)=>{
              const $tr = document.createElement('tr');
              //tr tag 밑에 td 추가
              e.forEach((e1,i1)=>{
                const $td = document.createElement('td');
                $td.id = `${i}_${i1}`;
                $td.addEventListener('click',(e)=>{
                    if(!e.target.textContent) {
                        const x = e.target.id.split('_')[0];
                        const y = e.target.id.split('_')[0];
                        const tempX;
                        const tempY;
                        
                        //변수에 데이터저장
                        data[x][y] = turn;
                        $td.textContent = data[x][y];
                        
                        //컴퓨터 초이스
                        while(true) {
                            const tempX = Math.floor(Math.random() * 3);
                            const tempY = Math.floor(Math.random() * 3);
                            
                            if(x !== tempX && y !== tempY) break;
                        }
                        data[tempX][tempY] = 'X';
                        
                        
                    }
                });
                $tr.append($td);    
              })
              // table 안에 tag 추가
              $table.append($tr);
          });
          //마지막에 table을 바디에 추가
          document.body.append($table);
        
        </script>
    </body>
</html>