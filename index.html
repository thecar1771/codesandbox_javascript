<html>
    <head>
        <meta charset="utf-8">
        <style>
            table {
                border-collapse : collapse;
            }
            
            td {
                border: 1px solid black;
                width : 40px;
                height : 40px;
                text-align: center;
            }
        </style>
    </head>
    <body>
        <script>
          const data = Array(3).fill()
                         .map((e,i)=>{
                            return Array(3).fill()
                         });
          const $table = document.createElement('table');
          
          const humanChoice = (x,y) => {
            data[x][y] = 'O';
            document.querySelector(`td[id="${x+'_'+y}"]`).textContent = data[x][y];
          };
          
          const autoComputerChoice = () => {
            let tempX;
            let tempY;
            let nullCheck = data.filter((e,i)=>{
                return e.some((ie)=>!ie);
            });
            
            //컴퓨터 초이스
            while(nullCheck.length > 0) {
                tempX = Math.floor(Math.random() * 3);
                tempY = Math.floor(Math.random() * 3);
                    
                if(!data[tempX][tempY]) {
                    data[tempX][tempY] = 'X';
                    document.querySelector(`td[id="${tempX+'_'+tempY}"]`).textContent = data[tempX][tempY];
                    break;
                };
            }     
          };
          
          const tdChoice = (turnGubn,x,y) => {
              
              if(turnGubn === "H") {
                  humanChoice(x,y)
              } else if(turnGubn === "C"){
                  autoComputerChoice();
              }
              
             //승부 체크
 
          };
          
          function winCheck(){
              da
          }
          
          //데이터 갯수 만큼 테이블에 tr td 생성
          data.forEach((e,i)=>{
              const $tr = document.createElement('tr');
              //tr tag 밑에 td 추가
              e.forEach((e1,i1)=>{
                const $td = document.createElement('td');
                $td.id = `${i}_${i1}`;
                $td.addEventListener('click',(e)=>{
                    if(!e.target.textContent) {
                        const x = e.target.id.split('_')[0];
                        const y = e.target.id.split('_')[1];
                        
                        //사람 초이스 데이터저장
                        tdChoice("H",x,y);
                        tdChoice("C");
                        //승부 체크                         
 
                    }
                });
                $tr.append($td);    
              })
              // table 안에 tag 추가
              $table.append($tr);
          });
          //마지막에 table을 바디에 추가
          document.body.append($table);
        
        </script>
    </body>
</html>